"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[958],{4006:(t,e,a)=>{a.d(e,{Z:()=>r});const s={props:{type:{type:String,default:"submit"},color:{type:String,default:"gray-800"},hover:{type:String,default:null},padding:{type:String,default:null},disabled:{type:Boolean,default:!1}},computed:{bgColor:function(){var t="";if(this.disabled)t="bg-indigo-200 cursor-not-allowed";else{var e="bg-"+this.color,a=this.color.split("-"),s=null==this.hover?"bg-"+a[0]+"-"+(parseInt(a[1])+100):"bg-"+this.hover,r="bg-"+a[0]+"-"+(parseInt(a[1])+100);a[0],parseInt(a[1]),a[0];t=e+" hover:"+s+" active:"+r}return null===this.padding?t+=" p-3 ":t+=" "+this.padding+" ",t}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{staticClass:"items-center border border-transparent rounded-sm text-sm text-white focus:outline-none transition ease-in-out duration-150",class:t.bgColor,attrs:{type:t.type,disabled:t.disabled}},[t._t("default")],2)}),[],!1,null,null,null).exports},8005:(t,e,a)=>{a.d(e,{Z:()=>r});const s={props:["project"],methods:{checkRole:a(4368).Z}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"p-4 flex border-b"},[a("div",{staticClass:"w-full"},[a("div",{staticClass:"text-xl font-bold"},[t._v("\n            "+t._s(t.project.name)+"\n        ")]),t._v(" "),a("div",{staticClass:"text-sm"},[t._v(t._s(t.project.description))])]),t._v(" "),a("div",{staticClass:"flex items-center"},[void 0!==t.project.id&&t.checkRole(["admin"+t.project.id])?a("router-link",{staticClass:"text-xl text-gray-600 cursor-pointer",attrs:{to:{name:"projects.settings",params:{project_id:t.project.id}},"exact-active-class":"bg-none"}},[a("i",{staticClass:"fas fa-cog"})]):t._e()],1)])}),[],!1,null,null,null).exports},859:(t,e,a)=>{a.r(e),a.d(e,{default:()=>c});var s=a(8005),r=a(4683),o=a(4006),i=a(4368);const l={components:{ProjectHeader:s.Z,SettingsNav:r.Z,UiButton:o.Z},data:function(){return{project:{},editProjectData:{errors:{name:""}}}},methods:{checkRole:i.Z,getProject:function(){var t=this;axios.get("/admin/projects/"+this.$route.params.project_id).then((function(e){t.project=e.data,t.editProjectData.id=e.data.id,t.editProjectData.name=e.data.name,t.editProjectData.description=e.data.description,t.editProjectData.disk=e.data.disk}))},saveEdit:function(){var t=this;axios.post("/admin/projects/update/"+this.project.id,this.editProjectData).then((function(e){t.$toast.success("Project updated!"),t.getProject()}),(function(e){422==e.response.status&&(t.editProjectData.errors=e.response.data.errors)}))},deleteProject:function(){var t=this;this.$swal.fire({title:"Are you sure",text:"you want to delete this project? All the collections and the content will be lost. You won't be able to revert this!"}).then((function(e){e.value&&axios.delete("/admin/projects/delete/"+t.project.id).then((function(e){t.$toast.success("Project deleted."),t.$router.push({name:"home"})}))}))}},mounted:function(){this.getProject()}};const c=(0,a(1900).Z)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex h-full"},[a("div",{staticClass:"w-96 h-full bg-white overflow-x-hidden"},[a("project-header",{staticClass:"bg-white",attrs:{project:t.project}}),t._v(" "),a("settings-nav",{attrs:{project:t.project}})],1),t._v(" "),a("div",{staticClass:"w-full overflow-x-hidden"},[a("div",{staticClass:"p-4"},[a("h4",{staticClass:"mb-2 p-2 font-bold text-xl"},[t._v("Project Details")]),t._v(" "),a("div",{staticClass:"bg-white mt-2 rounded-md p-4 w-full xl:w-3/5"},[a("div",{staticClass:"grid grid-cols-1 gap-4"},[a("div",[a("label",{directives:[{name:"formlabel",rawName:"v-formlabel"}]},[t._v("Project Name")]),t._v(" "),a("div",{staticClass:"mt-1 relative"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editProjectData.name,expression:"editProjectData.name"},{name:"forminput",rawName:"v-forminput"}],attrs:{type:"text",autofocus:""},domProps:{value:t.editProjectData.name},on:{input:function(e){e.target.composing||t.$set(t.editProjectData,"name",e.target.value)}}}),t._v(" "),a("p",{staticClass:"text-sm text-red-600 mt-2"},[t._v(t._s(t.editProjectData.errors.name[0]))])])]),t._v(" "),a("div",[a("label",{directives:[{name:"formlabel",rawName:"v-formlabel"}]},[t._v("Description")]),t._v(" "),a("div",{staticClass:"mt-1 relative"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editProjectData.description,expression:"editProjectData.description"},{name:"forminput",rawName:"v-forminput"}],attrs:{type:"text"},domProps:{value:t.editProjectData.description},on:{input:function(e){e.target.composing||t.$set(t.editProjectData,"description",e.target.value)}}}),t._v(" "),a("p",{staticClass:"text-sm text-red-600 mt-2"},[t._v(t._s(t.editProjectData.errors.name[0]))])])]),t._v(" "),t.project.s3?a("div",[a("label",{directives:[{name:"formlabel",rawName:"v-formlabel"}]},[t._v("Default Upload Disk")]),t._v(" "),a("div",{staticClass:"grid grid-cols-4 space-x-2"},[a("div",{staticClass:"col-span-1"},[a("label",{staticClass:"p-5 border border-gray-300 rounded-sm text-sm flex items-center space-x-2 cursor-pointer",attrs:{for:"default_disk_local"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editProjectData.disk,expression:"editProjectData.disk"}],attrs:{name:"default_disk",id:"default_disk_local",type:"radio",value:"local"},domProps:{checked:t._q(t.editProjectData.disk,"local")},on:{change:function(e){return t.$set(t.editProjectData,"disk","local")}}}),t._v(" "),a("span",[t._v("Local (storage folder)")])])]),t._v(" "),a("div",{staticClass:"col-span-1"},[a("label",{staticClass:"p-5 border border-gray-300 rounded-sm text-sm flex items-center space-x-2 cursor-pointer",attrs:{for:"default_disk_s3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editProjectData.disk,expression:"editProjectData.disk"}],attrs:{name:"default_disk",id:"default_disk_s3",type:"radio",value:"s3"},domProps:{checked:t._q(t.editProjectData.disk,"s3")},on:{change:function(e){return t.$set(t.editProjectData,"disk","s3")}}}),t._v(" "),a("span",[t._v("AWS S3")])])])])]):t._e(),t._v(" "),a("div",[a("label",{directives:[{name:"formlabel",rawName:"v-formlabel"}]}),t._v(" "),a("div",{staticClass:"mt-1 relative"},[a("ui-button",{attrs:{color:"indigo-500"},nativeOn:{click:function(e){return t.saveEdit()}}},[t._v("Update Project")])],1)])]),t._v(" "),a("hr",{staticClass:"clear-both mt-5 mb-5"}),t._v(" "),t.checkRole(["super_admin"])?a("ui-button",{staticClass:"float-right",attrs:{color:"red-500"},nativeOn:{click:function(e){return t.deleteProject()}}},[a("i",{staticClass:"fa fa-exclamation-triangle"}),t._v(" Delete Project")]):t._e(),t._v(" "),a("div",{staticClass:"clear-both"})],1)])])])}),[],!1,null,null,null).exports},4683:(t,e,a)=>{a.d(e,{Z:()=>r});const s={props:["project"],methods:{checkRole:a(4368).Z}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"p-4 bg-white"},[a("h4",{staticClass:"mb-2 p-2 font-bold text-lg"},[t._v("Settings")]),t._v(" "),a("ul",[a("li",{staticClass:"mb-2"},[void 0!==t.project.id?a("router-link",{staticClass:"block w-full p-2 cursor-pointer hover:bg-gray-100 rounded",attrs:{to:{name:"projects.settings",params:{project_id:t.project.id}}}},[t._v("Project")]):t._e()],1),t._v(" "),a("li",{staticClass:"mb-2"},[void 0!==t.project.id&&t.checkRole(["super_admin"])?a("router-link",{staticClass:"block w-full p-2 cursor-pointer hover:bg-gray-100 rounded",attrs:{to:{name:"projects.settings.locales",params:{project_id:t.project.id}}}},[t._v("Localization")]):t._e()],1),t._v(" "),a("li",{staticClass:"mb-2"},[void 0!==t.project.id&&t.checkRole(["super_admin"])?a("router-link",{staticClass:"block w-full p-2 cursor-pointer hover:bg-gray-100 rounded",attrs:{to:{name:"projects.settings.users",params:{project_id:t.project.id}}}},[t._v("Users & Roles")]):t._e()],1),t._v(" "),a("li",{staticClass:"mb-2"},[void 0!==t.project.id&&t.checkRole(["super_admin"])?a("router-link",{staticClass:"block w-full p-2 cursor-pointer hover:bg-gray-100 rounded",attrs:{to:{name:"projects.settings.api",params:{project_id:t.project.id}}}},[t._v("API Access")]):t._e()],1)])])}),[],!1,null,null,null).exports}}]);