"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[950],{4006:(t,e,s)=>{s.d(e,{Z:()=>a});const r={props:{type:{type:String,default:"submit"},color:{type:String,default:"gray-800"},hover:{type:String,default:null},padding:{type:String,default:null},disabled:{type:Boolean,default:!1}},computed:{bgColor:function(){var t="";if(this.disabled)t="bg-indigo-200 cursor-not-allowed";else{var e="bg-"+this.color,s=this.color.split("-"),r=null==this.hover?"bg-"+s[0]+"-"+(parseInt(s[1])+100):"bg-"+this.hover,a="bg-"+s[0]+"-"+(parseInt(s[1])+100);s[0],parseInt(s[1]),s[0];t=e+" hover:"+r+" active:"+a}return null===this.padding?t+=" p-3 ":t+=" "+this.padding+" ",t}}};const a=(0,s(1900).Z)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{staticClass:"items-center border border-transparent rounded-sm text-sm text-white focus:outline-none transition ease-in-out duration-150",class:t.bgColor,attrs:{type:t.type,disabled:t.disabled}},[t._t("default")],2)}),[],!1,null,null,null).exports},9369:(t,e,s)=>{s.d(e,{Z:()=>a});const r={props:{show:{default:!1},maxWidth:{default:"3xl"},closeable:{default:!0},disableHeader:{default:!1},disableFooter:{default:!1},noContenPadding:{default:!1}},methods:{close:function(){this.closeable&&this.$emit("close")}},watch:{show:{immediate:!0,handler:function(t){document.body.style.overflow=t?"hidden":null}}},created:function(){var t=this,e=function(e){"Escape"===e.key&&t.show&&t.close()};document.addEventListener("keydown",e),this.$once("hook:destroyed",(function(){document.removeEventListener("keydown",e)}))},computed:{maxWidthClass:function(){return{sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl","3xl":"sm:max-w-3xl","4xl":"sm:max-w-4xl","5xl":"sm:max-w-5xl","6xl":"sm:max-w-6xl","7xl":"sm:max-w-7xl"}[this.maxWidth]}}};const a=(0,s(1900).Z)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"fixed z-10 inset-0 overflow-y-auto"},[s("div",{staticClass:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center  sm:p-0"},[s("div",{staticClass:"fixed inset-0 transition-opacity",attrs:{"aria-hidden":"true"},on:{click:t.close}},[s("div",{staticClass:"absolute inset-0 bg-gray-500 opacity-75"})]),t._v(" "),s("span",{staticClass:"hidden sm:inline-block sm:align-middle sm:h-screen",attrs:{"aria-hidden":"true"}},[t._v("â€‹")]),t._v(" "),s("div",{staticClass:"inline-block align-bottom bg-white rounded-sm text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle w-full",class:t.maxWidthClass,attrs:{role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"}},[t.disableHeader?t._e():s("div",{staticClass:"px-6 py-6 border-b border-gray-100 bg-white"},[s("h3",{staticClass:"text-lg leading-6 font-medium text-gray-900"},[t._t("title")],2)]),t._v(" "),s("div",{class:{"px-6 py-4":!t.noContenPadding}},[t._t("content")],2),t._v(" "),t.disableFooter?t._e():s("div",{staticClass:"px-6 py-4 bg-gray-50 text-right mt-5"},[t._t("footer")],2)])])])}),[],!1,null,null,null).exports},8005:(t,e,s)=>{s.d(e,{Z:()=>a});const r={props:["project"],methods:{checkRole:s(4368).Z}};const a=(0,s(1900).Z)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"p-4 flex border-b"},[s("div",{staticClass:"w-full"},[s("div",{staticClass:"text-xl font-bold"},[t._v("\n            "+t._s(t.project.name)+"\n        ")]),t._v(" "),s("div",{staticClass:"text-sm"},[t._v(t._s(t.project.description))])]),t._v(" "),s("div",{staticClass:"flex items-center"},[void 0!==t.project.id&&t.checkRole(["admin"+t.project.id])?s("router-link",{staticClass:"text-xl text-gray-600 cursor-pointer",attrs:{to:{name:"projects.settings",params:{project_id:t.project.id}},"exact-active-class":"bg-none"}},[s("i",{staticClass:"fas fa-cog"})]):t._e()],1)])}),[],!1,null,null,null).exports},4683:(t,e,s)=>{s.d(e,{Z:()=>a});const r={props:["project"],methods:{checkRole:s(4368).Z}};const a=(0,s(1900).Z)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"p-4 bg-white"},[s("h4",{staticClass:"mb-2 p-2 font-bold text-lg"},[t._v("Settings")]),t._v(" "),s("ul",[s("li",{staticClass:"mb-2"},[void 0!==t.project.id?s("router-link",{staticClass:"block w-full p-2 cursor-pointer hover:bg-gray-100 rounded",attrs:{to:{name:"projects.settings",params:{project_id:t.project.id}}}},[t._v("Project")]):t._e()],1),t._v(" "),s("li",{staticClass:"mb-2"},[void 0!==t.project.id&&t.checkRole(["super_admin"])?s("router-link",{staticClass:"block w-full p-2 cursor-pointer hover:bg-gray-100 rounded",attrs:{to:{name:"projects.settings.locales",params:{project_id:t.project.id}}}},[t._v("Localization")]):t._e()],1),t._v(" "),s("li",{staticClass:"mb-2"},[void 0!==t.project.id&&t.checkRole(["super_admin"])?s("router-link",{staticClass:"block w-full p-2 cursor-pointer hover:bg-gray-100 rounded",attrs:{to:{name:"projects.settings.users",params:{project_id:t.project.id}}}},[t._v("Users & Roles")]):t._e()],1),t._v(" "),s("li",{staticClass:"mb-2"},[void 0!==t.project.id&&t.checkRole(["super_admin"])?s("router-link",{staticClass:"block w-full p-2 cursor-pointer hover:bg-gray-100 rounded",attrs:{to:{name:"projects.settings.api",params:{project_id:t.project.id}}}},[t._v("API Access")]):t._e()],1)])])}),[],!1,null,null,null).exports},2132:(t,e,s)=>{s.r(e),s.d(e,{default:()=>l});var r=s(8005),a=s(4683),i=s(4006),n=s(9369);const o={components:{ProjectHeader:r.Z,SettingsNav:a.Z,UiButton:i.Z,UiModal:n.Z},data:function(){return{project:{},super_admins:{},admins:{},editors:{},users:{},current_assign_role:null,openAssignUserModal:!1,createNewUser:!1,new_user:{password:null,errors:{}},passwordShow:!1}},methods:{getProject:function(){var t=this;axios.get("/admin/projects/settings/users/"+this.$route.params.project_id).then((function(e){t.project=e.data.project,t.super_admins=e.data.super_admins,t.admins=e.data.admins,t.editors=e.data.editors,t.users=e.data.users}))},getUserNameInitials:function(t){var e=t.split(" ");return(e=e.length>1?e.shift().charAt(0)+e.pop().charAt(0):t.substring(0,2)).toUpperCase()},assignUser:function(t){this.openAssignUserModal=!0,this.current_assign_role=t,this.createNewUser=!1},selectUser:function(t){var e=this,s={role:this.current_assign_role,user_id:t.id};axios.post("/admin/projects/settings/users/assign/"+this.project.id,s).then((function(t){e.$toast.success("User has assigned!"),e.getProject(),e.closeAssignUserModal()}))},removeUser:function(t,e){var s=this,r={role:e,user_id:t.id};this.$swal.fire({title:"Are you sure",text:"you want to remove this user from the project? User account will not be deleted."}).then((function(t){t.value&&axios.post("/admin/projects/settings/users/remove-user/"+s.project.id,r).then((function(t){s.$toast.success("User removed."),s.getProject(),s.closeAssignUserModal()}))}))},closeAssignUserModal:function(){this.openAssignUserModal=!1,this.createNewUser=!1},showPassword:function(){this.passwordShow=!this.passwordShow},generatePassword:function(){var t="",e="";t+="abcdefghijklmnopqrstuvwxyz",t+="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t+="0123456789",t+="![]{}()%&*$#^<>~@|";for(var s=0;s<12;s++)e+=t.charAt(Math.floor(Math.random()*t.length));this.new_user.password=e,this.passwordShow=!0},createNewUserSubmit:function(){var t=this;axios.post("/admin/projects/settings/users/new/"+this.project.id,this.new_user).then((function(e){t.$toast.success("User created!"),t.getProject(),t.createNewUser=!1,t.new_user={password:null,errors:{}}}),(function(e){422==e.response.status&&(t.new_user.errors=e.response.data.errors)}))}},mounted:function(){this.getProject()}};const l=(0,s(1900).Z)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex h-full"},[s("div",{staticClass:"w-96 h-full bg-white overflow-x-hidden"},[s("project-header",{staticClass:"bg-white",attrs:{project:t.project}}),t._v(" "),s("settings-nav",{attrs:{project:t.project}})],1),t._v(" "),s("div",{staticClass:"w-full overflow-x-hidden"},[s("div",{staticClass:"p-4"},[s("h4",{staticClass:"mb-2 p-2 font-bold text-xl"},[t._v("Users & Roles")]),t._v(" "),s("div",{staticClass:"bg-white mt-2 rounded-md p-4 w-full xl:w-3/5"},[s("div",{staticClass:"overflow-x-auto w-full border clear-both mt-2"},[s("table",{staticClass:"min-w-full divide-y divide-gray-200 "},[t._m(0),t._v(" "),s("tbody",{staticClass:"bg-white divide-y divide-gray-200"},[s("tr",[t._m(1),t._v(" "),s("td",{staticClass:"px-6 py-3 text-sm"},[t._l(t.super_admins,(function(e){return s("div",{key:e.id,staticClass:"border border-gray-100 mb-2 block w-full p-2"},[s("div",{staticClass:"flex items-center"},[s("div",[s("div",{staticClass:"flex bg-green-500 text-white p-2 text-md rounded-full text-center mr-2 w-9"},[s("div",{staticClass:"w-full text-center"},[t._v(t._s(t.getUserNameInitials(e.name)))])])]),t._v(" "),s("div",[s("div",{staticClass:"block"},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"block text-sm"},[t._v(t._s(e.email))])])])])})),t._v(" "),t._l(t.admins,(function(e){return s("div",{key:e.id,staticClass:"border border-gray-100 mb-2 block w-full p-2"},[s("div",{staticClass:"flex flex-start w-full items-center"},[s("div",[s("div",{staticClass:"flex bg-green-500 text-white p-2 text-md rounded-full text-center mr-2 w-9"},[s("div",{staticClass:"w-full text-center"},[t._v(t._s(t.getUserNameInitials(e.name)))])])]),t._v(" "),s("div",[s("div",{staticClass:"block"},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"block text-sm"},[t._v(t._s(e.email))])]),t._v(" "),s("div",{staticClass:"ml-auto"},[s("i",{staticClass:"fa fa-minus-circle text-red-400 cursor-pointer hover:text-red-500 text-lg ml-2",on:{click:function(s){return t.removeUser(e,"admin")}}})])])])}))],2),t._v(" "),s("td",{staticClass:"px-6 py-3 text-sm text-right align-top"},[s("ui-button",{attrs:{color:"indigo-500"},nativeOn:{click:function(e){return t.assignUser("admin")}}},[t._v("\n                                        + Assign User\n                                    ")])],1)]),t._v(" "),s("tr",[t._m(2),t._v(" "),s("td",{staticClass:"px-6 py-3 text-sm"},t._l(t.editors,(function(e){return s("div",{key:e.id,staticClass:"border border-gray-100 mb-2 block w-full p-2"},[s("div",{staticClass:"flex flex-start w-full items-center"},[s("div",[s("div",{staticClass:"flex bg-green-500 text-white p-2 text-md rounded-full text-center mr-2 w-9"},[s("div",{staticClass:"w-full text-center"},[t._v(t._s(t.getUserNameInitials(e.name)))])])]),t._v(" "),s("div",[s("div",{staticClass:"block"},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"block text-sm"},[t._v(t._s(e.email))])]),t._v(" "),s("div",{staticClass:"ml-auto"},[s("i",{staticClass:"fa fa-minus-circle text-red-400 cursor-pointer hover:text-red-500 text-lg ml-2",on:{click:function(s){return t.removeUser(e,"editor")}}})])])])})),0),t._v(" "),s("td",{staticClass:"px-6 py-3 text-sm text-right align-top"},[s("ui-button",{attrs:{color:"indigo-500"},nativeOn:{click:function(e){return t.assignUser("editor")}}},[t._v("\n                                        + Assign User\n                                    ")])],1)])])])])])])]),t._v(" "),s("ui-modal",{attrs:{show:t.openAssignUserModal},on:{close:t.closeAssignUserModal},scopedSlots:t._u([{key:"title",fn:function(){return[s("div",{staticClass:"flex justify-between"},[s("div",[t._v("\n                    Assign User\n                ")]),t._v(" "),s("div",[t.createNewUser?t._e():s("ui-button",{attrs:{color:"indigo-500"},nativeOn:{click:function(e){t.createNewUser=!0}}},[t._v("\n                        Create New User\n                    ")]),t._v(" "),t.createNewUser?s("ui-button",{attrs:{color:"green-500"},nativeOn:{click:function(e){t.createNewUser=!1}}},[s("i",{staticClass:"fas fa-chevron-left text-white mr-3"}),t._v(" Back\n                    ")]):t._e()],1)])]},proxy:!0},{key:"content",fn:function(){return[s("div",{staticClass:"mt-4"},[t.createNewUser?t._e():s("div",[s("table",{staticClass:"min-w-full divide-y divide-gray-200 "},[s("thead",{staticClass:"bg-gray-100"},[s("tr",[s("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",attrs:{scope:"col"}},[t._v("Name")]),t._v(" "),s("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",attrs:{scope:"col"}},[t._v("E-mail")]),t._v(" "),s("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-px",attrs:{scope:"col"}})])]),t._v(" "),s("tbody",{staticClass:"bg-white divide-y divide-gray-200"},t._l(t.users,(function(e){return s("tr",{key:e.id},[s("td",{staticClass:"px-6 py-3 text-sm"},[t._v(t._s(e.name))]),t._v(" "),s("td",{staticClass:"px-6 py-3 text-sm"},[t._v(t._s(e.email))]),t._v(" "),s("td",{staticClass:"py-3 text-sm text-right items-right"},[s("ui-button",{attrs:{color:"indigo-500"},nativeOn:{click:function(s){return t.selectUser(e)}}},[t._v("\n                                        Select\n                                    ")])],1)])})),0)])]),t._v(" "),t.createNewUser?s("div",[s("form",{on:{submit:function(e){return e.preventDefault(),t.createNewUserSubmit.apply(null,arguments)}}},[s("div",{staticClass:"mt-2"},[s("label",{directives:[{name:"formlabel",rawName:"v-formlabel"}]},[t._v("Name")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.new_user.name,expression:"new_user.name"},{name:"forminput",rawName:"v-forminput"}],attrs:{type:"text",autofocus:""},domProps:{value:t.new_user.name},on:{input:function(e){e.target.composing||t.$set(t.new_user,"name",e.target.value)}}}),t._v(" "),t.new_user.errors.name?s("p",{staticClass:"text-sm text-red-600 mt-1"},[t._v(t._s(t.new_user.errors.name[0]))]):t._e()]),t._v(" "),s("div",{staticClass:"mt-2"},[s("label",{directives:[{name:"formlabel",rawName:"v-formlabel"}]},[t._v("E-mail")]),t._v(" "),s("div",{staticClass:"mt-1 flex rounded-sm"},[s("span",{staticClass:"inline-flex items-center px-3 rounded-l-sm border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm  "},[s("i",{staticClass:"fa fa-at"})]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.new_user.email,expression:"new_user.email"},{name:"forminput",rawName:"v-forminput"}],staticClass:"rounded-l-none",attrs:{type:"email"},domProps:{value:t.new_user.email},on:{input:function(e){e.target.composing||t.$set(t.new_user,"email",e.target.value)}}})]),t._v(" "),t.new_user.errors.email?s("p",{staticClass:"text-sm text-red-600 mt-1"},[t._v(t._s(t.new_user.errors.email[0]))]):t._e()]),t._v(" "),s("div",{staticClass:"mt-2"},[s("label",{directives:[{name:"formlabel",rawName:"v-formlabel"}]},[t._v("Password")]),t._v(" "),s("div",{staticClass:"mt-1 flex rounded-sm"},[s("span",{staticClass:"inline-flex items-center px-3 rounded-l-sm border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm  "},[s("i",{staticClass:"fa fa-lock"})]),t._v(" "),"checkbox"==(t.passwordShow?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.new_user.password,expression:"new_user.password"},{name:"forminput",rawName:"v-forminput"}],staticClass:"rounded-l-none",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.new_user.password)?t._i(t.new_user.password,null)>-1:t.new_user.password},on:{change:function(e){var s=t.new_user.password,r=e.target,a=!!r.checked;if(Array.isArray(s)){var i=t._i(s,null);r.checked?i<0&&t.$set(t.new_user,"password",s.concat([null])):i>-1&&t.$set(t.new_user,"password",s.slice(0,i).concat(s.slice(i+1)))}else t.$set(t.new_user,"password",a)}}}):"radio"==(t.passwordShow?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.new_user.password,expression:"new_user.password"},{name:"forminput",rawName:"v-forminput"}],staticClass:"rounded-l-none",attrs:{type:"radio"},domProps:{checked:t._q(t.new_user.password,null)},on:{change:function(e){return t.$set(t.new_user,"password",null)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.new_user.password,expression:"new_user.password"},{name:"forminput",rawName:"v-forminput"}],staticClass:"rounded-l-none",attrs:{type:t.passwordShow?"text":"password"},domProps:{value:t.new_user.password},on:{input:function(e){e.target.composing||t.$set(t.new_user,"password",e.target.value)}}}),t._v(" "),s("span",{staticClass:"inline-flex items-center px-3 rounded-r-sm border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm cursor-pointer",on:{click:function(e){return t.showPassword()}}},[s("i",{staticClass:"fa fa-eye"})]),t._v(" "),s("span",{staticClass:"inline-flex items-center px-3 rounded-r-sm border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm cursor-pointer",on:{click:function(e){return t.generatePassword()}}},[t._v("Generate")])]),t._v(" "),t.new_user.errors.password?s("p",{staticClass:"text-sm text-red-600 mt-1"},[t._v(t._s(t.new_user.errors.password[0]))]):t._e()])])]):t._e()])]},proxy:!0},{key:"footer",fn:function(){return[s("ui-button",{attrs:{color:"gray-50",hover:"gray-200"},nativeOn:{click:function(e){return t.closeAssignUserModal.apply(null,arguments)}}},[s("span",{staticClass:"text-gray-800"},[t._v("Cancel")])]),t._v(" "),t.createNewUser?s("ui-button",{attrs:{color:"indigo-500"},nativeOn:{click:function(e){return t.createNewUserSubmit.apply(null,arguments)}}},[t._v("\n                Create User\n            ")]):t._e()]},proxy:!0}])})],1)}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"bg-gray-100"},[s("tr",[s("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",attrs:{scope:"col"}},[t._v("Role")]),t._v(" "),s("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",attrs:{scope:"col"}},[t._v("Users")]),t._v(" "),s("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-64",attrs:{scope:"col"}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("td",{staticClass:"px-6 py-3 text-sm align-top"},[t._v("\n                                    Admin\n                                    "),s("small",{staticClass:"block text-gray-600 text-xs"},[t._v("Can create and edit collections and content")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("td",{staticClass:"px-6 py-3 text-sm align-top"},[t._v("\n                                    Editor\n                                    "),s("small",{staticClass:"block text-gray-600 text-xs"},[t._v("Can create and edit content")])])}],!1,null,null,null).exports}}]);